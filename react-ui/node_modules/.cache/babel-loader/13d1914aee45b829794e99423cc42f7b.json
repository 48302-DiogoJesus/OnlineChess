{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\jesus\\\\Desktop\\\\PG\\\\Personal\\\\1-Web\\\\TS\\\\OnlineChess\\\\chessbackend\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\jesus\\\\Desktop\\\\PG\\\\Personal\\\\1-Web\\\\TS\\\\OnlineChess\\\\chessbackend\\\\react-ui\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import'./Login.css';import'../Authentication.css';import'../../../global-css/sweetalert.css';import{useRef}from\"react\";import{useNavigate}from\"react-router-dom\";import State from'../../../state/State';import Server from'../../../server/server';import Alerts from'../../../utils/Alerts/sa-alerts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(props){var username=useRef();var password=useRef();var navigate=useNavigate();var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var usernameValue,passwordValue,response,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:usernameValue=username.current.value;passwordValue=password.current.value;if(!(usernameValue.length===0||passwordValue.length===0)){_context.next=4;break;}return _context.abrupt(\"return\");case 4:_context.next=6;return Server.tryLogin(usernameValue,passwordValue);case 6:response=_context.sent;if(response.success){token=response.data.token;State.login(usernameValue,token);Alerts.showNotification(\"Success!\",1).then(function(){return navigate('/');});}case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleLogin(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"global-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"auth-username\",children:\"USERNAME\"}),/*#__PURE__*/_jsx(\"input\",{ref:username,type:\"text\",className:\"auth-input\",id:\"auth-username\",name:\"username\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"auth-password\",children:\"PASSWORD\"}),/*#__PURE__*/_jsx(\"input\",{ref:password,type:\"password\",className:\"auth-input\",id:\"auth-password\",name:\"password\",onKeyDown:function onKeyDown(e){if(e.key===\"Enter\")handleLogin();}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"auth-button\",value:\"LOGIN\",onClick:handleLogin}),/*#__PURE__*/_jsx(\"a\",{className:\"signup-link\",href:\"/signup\",children:\"Don't have an account yet? Click here.\"})]})})});}","map":{"version":3,"sources":["C:/Users/jesus/Desktop/PG/Personal/1-Web/TS/OnlineChess/chessbackend/react-ui/src/pages/Authentication/Login/Login.tsx"],"names":["useRef","useNavigate","State","Server","Alerts","Login","props","username","password","navigate","handleLogin","usernameValue","current","value","passwordValue","length","tryLogin","response","success","token","data","login","showNotification","then","e","key"],"mappings":"wWAAA,MAAO,aAAP,CACA,MAAO,uBAAP,CACA,MAAO,oCAAP,CAEA,OAASA,MAAT,KAAuB,OAAvB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,MAAOC,CAAAA,KAAP,KAAkB,sBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,iCAAnB,C,wFAEA,cAAe,SAASC,CAAAA,KAAT,CAAeC,KAAf,CAA2B,CACtC,GAAMC,CAAAA,QAAa,CAAGP,MAAM,EAA5B,CACA,GAAMQ,CAAAA,QAAa,CAAGR,MAAM,EAA5B,CACA,GAAMS,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CAEA,GAAMS,CAAAA,WAAW,0FAAG,kLACVC,aADU,CACMJ,QAAQ,CAACK,OAAT,CAAiBC,KADvB,CAEVC,aAFU,CAEMN,QAAQ,CAACI,OAAT,CAAiBC,KAFvB,MAGZF,aAAa,CAACI,MAAd,GAAyB,CAAzB,EAA8BD,aAAa,CAACC,MAAd,GAAyB,CAH3C,wFAKOZ,CAAAA,MAAM,CAACa,QAAP,CAAgBL,aAAhB,CAA+BG,aAA/B,CALP,QAKVG,QALU,eAMhB,GAAIA,QAAQ,CAACC,OAAb,CAAsB,CACZC,KADY,CACJF,QAAQ,CAACG,IAAT,CAAcD,KADV,CAElBjB,KAAK,CAACmB,KAAN,CAAYV,aAAZ,CAA2BQ,KAA3B,EACAf,MAAM,CAACkB,gBAAP,CAAwB,UAAxB,CAAoC,CAApC,EAAuCC,IAAvC,CAA4C,iBAAMd,CAAAA,QAAQ,CAAC,GAAD,CAAd,EAA5C,EACH,CAVe,sDAAH,kBAAXC,CAAAA,WAAW,0CAAjB,CAaA,mBACI,YAAK,SAAS,CAAC,kBAAf,uBACI,YAAK,SAAS,CAAC,gBAAf,uBACI,qCACI,cAAO,OAAO,CAAC,eAAf,sBADJ,cAEI,cAAO,GAAG,CAAEH,QAAZ,CAAsB,IAAI,CAAC,MAA3B,CAAkC,SAAS,CAAC,YAA5C,CAAyD,EAAE,CAAC,eAA5D,CAA4E,IAAI,CAAC,UAAjF,EAFJ,cAEkG,aAFlG,cAII,cAAO,OAAO,CAAC,eAAf,sBAJJ,cAKI,cAAO,GAAG,CAAEC,QAAZ,CAAsB,IAAI,CAAC,UAA3B,CAAsC,SAAS,CAAC,YAAhD,CAA6D,EAAE,CAAC,eAAhE,CAAgF,IAAI,CAAC,UAArF,CAAgG,SAAS,CAAE,mBAAAgB,CAAC,CAAI,CAAE,GAAIA,CAAC,CAACC,GAAF,GAAU,OAAd,CAAuBf,WAAW,GAAI,CAAxJ,EALJ,cAKgK,aALhK,cAOI,cAAO,EAAE,CAAC,aAAV,CAAwB,KAAK,CAAC,OAA9B,CAAsC,OAAO,CAAEA,WAA/C,EAPJ,cAQI,UAAG,SAAS,CAAC,aAAb,CAA2B,IAAI,CAAC,SAAhC,oDARJ,GADJ,EADJ,EADJ,CAgBH","sourcesContent":["import './Login.css'\r\nimport '../Authentication.css'\r\nimport '../../../global-css/sweetalert.css'\r\n\r\nimport { useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport State from '../../../state/State'\r\nimport Server from '../../../server/server'\r\n\r\nimport Alerts from '../../../utils/Alerts/sa-alerts'\r\n\r\nexport default function Login(props: any) {\r\n    const username: any = useRef()\r\n    const password: any = useRef()\r\n    const navigate = useNavigate()\r\n\r\n    const handleLogin = async () => {\r\n        const usernameValue = username.current.value\r\n        const passwordValue = password.current.value\r\n        if (usernameValue.length === 0 || passwordValue.length === 0)\r\n            return\r\n        const response = await Server.tryLogin(usernameValue, passwordValue)\r\n        if (response.success) {\r\n            const token = response.data.token\r\n            State.login(usernameValue, token)\r\n            Alerts.showNotification(\"Success!\", 1).then(() => navigate('/'))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"global-container\">\r\n            <div className=\"auth-container\">\r\n                <form>\r\n                    <label htmlFor=\"auth-username\">USERNAME</label>\r\n                    <input ref={username} type=\"text\" className=\"auth-input\" id=\"auth-username\" name=\"username\" /><br />\r\n\r\n                    <label htmlFor=\"auth-password\">PASSWORD</label>\r\n                    <input ref={password} type=\"password\" className=\"auth-input\" id=\"auth-password\" name=\"password\" onKeyDown={e => { if (e.key === \"Enter\") handleLogin() }} /><br />\r\n\r\n                    <input id=\"auth-button\" value=\"LOGIN\" onClick={handleLogin} />\r\n                    <a className=\"signup-link\" href=\"/signup\">Don't have an account yet? Click here.</a>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}