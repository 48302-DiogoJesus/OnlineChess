{"ast":null,"code":"import Server from '../../server/server';\nexport const doLogin = username => {\n  return {\n    type: 'LOGIN',\n    payload: {\n      'username': username\n    }\n  };\n};\nexport const doLogout = () => {\n  // To remove the session cookie\n  Server.logout();\n  return {\n    type: 'LOGOUT',\n    payload: {}\n  };\n};\nexport const joinGame = game => {\n  console.log(\"Action GOT: \", game);\n  return {\n    type: 'JOIN_GAME',\n    payload: {\n      game\n    }\n  };\n};\nexport function getRemoteGameData(game_id) {\n  return function (dispatch, getState) {\n    Server.getGame(game_id).then(game => {\n      // ! PieceColor.WHITE IS HARDCODED, LATER CALCULATE IT FROM COMPARING THE STATE USERNAME WITH THE PLAYER_WHITE AND PLAYER_BLACK\n      // const username = (getState() as AppState).authentication.username\n      dispatch(joinGame(game));\n    });\n  };\n}\nexport const leaveGame = () => {\n  return {\n    type: 'LEAVE_GAME',\n    payload: {}\n  };\n};","map":{"version":3,"sources":["C:/Users/jesus/Desktop/PG/Personal/1-Web/TS/OnlineChess/onlinechess/src/state/actions/action.ts"],"names":["Server","doLogin","username","type","payload","doLogout","logout","joinGame","game","console","log","getRemoteGameData","game_id","dispatch","getState","getGame","then","leaveGame"],"mappings":"AAIA,OAAOA,MAAP,MAAmB,qBAAnB;AAEA,OAAO,MAAMC,OAAO,GAAIC,QAAD,IAAsB;AACzC,SAAO;AACHC,IAAAA,IAAI,EAAE,OADH;AAEHC,IAAAA,OAAO,EAAE;AACL,kBAAYF;AADP;AAFN,GAAP;AAMH,CAPM;AASP,OAAO,MAAMG,QAAQ,GAAG,MAAM;AAC1B;AACAL,EAAAA,MAAM,CAACM,MAAP;AAEA,SAAO;AACHH,IAAAA,IAAI,EAAE,QADH;AAEHC,IAAAA,OAAO,EAAE;AAFN,GAAP;AAIH,CARM;AAUP,OAAO,MAAMG,QAAQ,GACjBC,IADoB,IAEnB;AACDC,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,IAA5B;AACA,SAAO;AACHL,IAAAA,IAAI,EAAE,WADH;AAEHC,IAAAA,OAAO,EAAE;AAAEI,MAAAA;AAAF;AAFN,GAAP;AAIH,CARM;AAUP,OAAO,SAASG,iBAAT,CAA2BC,OAA3B,EAA4C;AAC/C,SAAO,UAAUC,QAAV,EAAyBC,QAAzB,EAAwC;AAC3Cd,IAAAA,MAAM,CAACe,OAAP,CAAeH,OAAf,EACKI,IADL,CACUR,IAAI,IAAI;AACV;AACA;AACAK,MAAAA,QAAQ,CAACN,QAAQ,CAACC,IAAD,CAAT,CAAR;AACH,KALL;AAMH,GAPD;AAQH;AAED,OAAO,MAAMS,SAAS,GAAG,MAAM;AAC3B,SAAO;AACHd,IAAAA,IAAI,EAAE,YADH;AAEHC,IAAAA,OAAO,EAAE;AAFN,GAAP;AAIH,CALM","sourcesContent":["import { BoardObject } from '../../domain/board'\r\nimport { PieceColor } from '../../domain/piece'\r\nimport CONFIG from '../../server/config'\r\nimport { AppState, Game } from '../reducers/root'\r\nimport Server from '../../server/server'\r\n\r\nexport const doLogin = (username: string) => {\r\n    return {\r\n        type: 'LOGIN',\r\n        payload: {\r\n            'username': username\r\n        }\r\n    }\r\n}\r\n\r\nexport const doLogout = () => {\r\n    // To remove the session cookie\r\n    Server.logout()\r\n\r\n    return {\r\n        type: 'LOGOUT',\r\n        payload: {}\r\n    }\r\n}\r\n\r\nexport const joinGame = (\r\n    game: Game\r\n) => {\r\n    console.log(\"Action GOT: \", game)\r\n    return {\r\n        type: 'JOIN_GAME',\r\n        payload: { game }\r\n    }\r\n}\r\n\r\nexport function getRemoteGameData(game_id: string) {\r\n    return function (dispatch: any, getState: any) {\r\n        Server.getGame(game_id)\r\n            .then(game => {\r\n                // ! PieceColor.WHITE IS HARDCODED, LATER CALCULATE IT FROM COMPARING THE STATE USERNAME WITH THE PLAYER_WHITE AND PLAYER_BLACK\r\n                // const username = (getState() as AppState).authentication.username\r\n                dispatch(joinGame(game))\r\n            })\r\n    }\r\n}\r\n\r\nexport const leaveGame = () => {\r\n    return {\r\n        type: 'LEAVE_GAME',\r\n        payload: {}\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}