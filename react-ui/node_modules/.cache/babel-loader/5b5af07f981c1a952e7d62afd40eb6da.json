{"ast":null,"code":"const initialState = {\n  authentication: {\n    isAuthenticated: false,\n    username: null\n  },\n  // Starts disconnected from any game\n  game: null\n};\nexport default function rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state,\n        authentication: {\n          isAuthenticated: true,\n          username: action.payload.username\n        }\n      };\n\n    case 'LOGOUT':\n      return initialState;\n\n    case 'JOIN_GAME':\n      return { ...state,\n        game: action.payload.game\n      };\n\n    case 'LEAVE_GAME':\n      return { ...state,\n        game: null\n      };\n\n    case 'CLEAR_STATE':\n      return {\n        game: null,\n        authentication: {\n          isAuthenticated: false,\n          username: null\n        }\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/jesus/Desktop/PG/Personal/1-Web/TS/OnlineChess/onlinechess/src/state/reducers/root.ts"],"names":["initialState","authentication","isAuthenticated","username","game","rootReducer","state","action","type","payload"],"mappings":"AAqBA,MAAMA,YAAsB,GAAG;AAC3BC,EAAAA,cAAc,EAAE;AACZC,IAAAA,eAAe,EAAE,KADL;AAEZC,IAAAA,QAAQ,EAAE;AAFE,GADW;AAK3B;AACAC,EAAAA,IAAI,EAAE;AANqB,CAA/B;AASA,eAAe,SAASC,WAAT,GAA4E;AAAA,MAAvDC,KAAuD,uEAArCN,YAAqC;AAAA,MAAvBO,MAAuB;;AACvF,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,OAAL;AACI,aAAO,EACH,GAAGF,KADA;AAEHL,QAAAA,cAAc,EAAE;AACZC,UAAAA,eAAe,EAAE,IADL;AAEZC,UAAAA,QAAQ,EAAEI,MAAM,CAACE,OAAP,CAAeN;AAFb;AAFb,OAAP;;AAOJ,SAAK,QAAL;AACI,aAAOH,YAAP;;AACJ,SAAK,WAAL;AACI,aAAO,EACH,GAAGM,KADA;AAEHF,QAAAA,IAAI,EAAEG,MAAM,CAACE,OAAP,CAAeL;AAFlB,OAAP;;AAIJ,SAAK,YAAL;AACI,aAAO,EACH,GAAGE,KADA;AAEHF,QAAAA,IAAI,EAAE;AAFH,OAAP;;AAIJ,SAAK,aAAL;AACI,aAAO;AACHA,QAAAA,IAAI,EAAE,IADH;AAEHH,QAAAA,cAAc,EAAE;AACZC,UAAAA,eAAe,EAAE,KADL;AAEZC,UAAAA,QAAQ,EAAE;AAFE;AAFb,OAAP;;AAOJ;AACI,aAAOG,KAAP;AA9BR;AAgCH","sourcesContent":["import { PieceColor } from '../../domain/piece'\r\n\r\nexport interface AppState {\r\n    authentication: Authentication,\r\n    game: RemoteGame | null\r\n}\r\n\r\nexport interface Authentication {\r\n    isAuthenticated: boolean,\r\n    username: string | null\r\n}\r\n\r\nexport interface RemoteGame {\r\n    _id: string,\r\n    player1: string,   // username of player1\r\n    player2: string | null,  // username of player2\r\n    board: string,\r\n    winner: PieceColor | null,\r\n    turn: PieceColor\r\n}\r\n\r\nconst initialState: AppState = {\r\n    authentication: {\r\n        isAuthenticated: false,\r\n        username: null\r\n    },\r\n    // Starts disconnected from any game\r\n    game: null\r\n}\r\n\r\nexport default function rootReducer(state: AppState = initialState, action: any): AppState {\r\n    switch (action.type) {\r\n        case 'LOGIN':\r\n            return {\r\n                ...state,\r\n                authentication: {\r\n                    isAuthenticated: true,\r\n                    username: action.payload.username\r\n                }\r\n            }\r\n        case 'LOGOUT':\r\n            return initialState\r\n        case 'JOIN_GAME':\r\n            return {\r\n                ...state,\r\n                game: action.payload.game\r\n            }\r\n        case 'LEAVE_GAME':\r\n            return {\r\n                ...state,\r\n                game: null\r\n            }\r\n        case 'CLEAR_STATE':\r\n            return {\r\n                game: null,\r\n                authentication: {\r\n                    isAuthenticated: false,\r\n                    username: null\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}