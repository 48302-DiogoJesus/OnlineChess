{"ast":null,"code":"import { PieceColor } from '../../domain/piece';\nimport CONFIG from '../../server/config';\nexport const doLogin = username => {\n  return {\n    type: 'LOGIN',\n    payload: {\n      'username': username\n    }\n  };\n};\nexport const doLogout = () => {\n  return {\n    type: 'LOGOUT',\n    payload: {}\n  };\n};\nexport const joinGame = (game_id, piecesColor, board, player_white, player_black) => {\n  return {\n    type: 'JOIN_GAME',\n    payload: {\n      'game_id': game_id,\n      'local_player_pieces': piecesColor,\n      'board': board,\n      'player_white': player_white,\n      'player_black': player_black\n    }\n  };\n};\nexport function getRemoteGameData(game_id) {\n  return function (dispatch, getState) {\n    CONFIG.AXIOSINSTANCE.get(`/games?id=${game_id}`).then(res => res.data).then(data => {\n      // ! PieceColor.WHITE IS HARDCODED, LATER CALCULATE IT FROM COMPARING THE STATE USERNAME WITH THE PLAYER_WHITE AND PLAYER_BLACK\n      const username = getState(state => state.authentication.username);\n      console.log(username);\n      dispatch(joinGame(game_id, PieceColor.WHITE, data.board, data.player_white, data.player_black));\n    });\n  };\n}\nexport const leaveGame = () => {\n  return {\n    type: 'LEAVE_GAME',\n    payload: {}\n  };\n};","map":{"version":3,"sources":["C:/Users/jesus/Desktop/PG/Personal/1-Web/TS/OnlineChess/onlinechess/src/state/actions/action.ts"],"names":["PieceColor","CONFIG","doLogin","username","type","payload","doLogout","joinGame","game_id","piecesColor","board","player_white","player_black","getRemoteGameData","dispatch","getState","AXIOSINSTANCE","get","then","res","data","state","authentication","console","log","WHITE","leaveGame"],"mappings":"AACA,SAASA,UAAT,QAA2B,oBAA3B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AAGA,OAAO,MAAMC,OAAO,GAAIC,QAAD,IAAsB;AACzC,SAAO;AACHC,IAAAA,IAAI,EAAE,OADH;AAEHC,IAAAA,OAAO,EAAE;AACL,kBAAYF;AADP;AAFN,GAAP;AAMH,CAPM;AASP,OAAO,MAAMG,QAAQ,GAAG,MAAM;AAC1B,SAAO;AACHF,IAAAA,IAAI,EAAE,QADH;AAEHC,IAAAA,OAAO,EAAE;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAME,QAAQ,GAAG,CAACC,OAAD,EAAkBC,WAAlB,EAA2CC,KAA3C,EAA+DC,YAA/D,EAAyFC,YAAzF,KAAsH;AAC1I,SAAO;AACHR,IAAAA,IAAI,EAAE,WADH;AAEHC,IAAAA,OAAO,EAAE;AACL,iBAAWG,OADN;AAEL,6BAAuBC,WAFlB;AAGL,eAASC,KAHJ;AAIL,sBAAgBC,YAJX;AAKL,sBAAgBC;AALX;AAFN,GAAP;AAUH,CAXM;AAaP,OAAO,SAASC,iBAAT,CAA2BL,OAA3B,EAA4C;AAC/C,SAAO,UAAUM,QAAV,EAAyBC,QAAzB,EAAwC;AAC3Cd,IAAAA,MAAM,CAACe,aAAP,CAAqBC,GAArB,CAA0B,aAAYT,OAAQ,EAA9C,EAAiDU,IAAjD,CAAsDC,GAAG,IAAIA,GAAG,CAACC,IAAjE,EAAuEF,IAAvE,CAA6EE,IAAD,IAAU;AAClF;AACA,YAAMjB,QAAQ,GAAGY,QAAQ,CAAEM,KAAD,IAAqBA,KAAK,CAACC,cAAN,CAAqBnB,QAA3C,CAAzB;AACAoB,MAAAA,OAAO,CAACC,GAAR,CAAYrB,QAAZ;AACAW,MAAAA,QAAQ,CAACP,QAAQ,CAACC,OAAD,EAAUR,UAAU,CAACyB,KAArB,EAA4BL,IAAI,CAACV,KAAjC,EAAwCU,IAAI,CAACT,YAA7C,EAA2DS,IAAI,CAACR,YAAhE,CAAT,CAAR;AACH,KALD;AAMH,GAPD;AAQH;AAED,OAAO,MAAMc,SAAS,GAAG,MAAM;AAC3B,SAAO;AACHtB,IAAAA,IAAI,EAAE,YADH;AAEHC,IAAAA,OAAO,EAAE;AAFN,GAAP;AAIH,CALM","sourcesContent":["import { BoardObject } from '../../domain/board'\r\nimport { PieceColor } from '../../domain/piece'\r\nimport CONFIG from '../../server/config'\r\nimport { AppState } from '../reducers/root'\r\n\r\nexport const doLogin = (username: string) => {\r\n    return {\r\n        type: 'LOGIN',\r\n        payload: {\r\n            'username': username\r\n        }\r\n    }\r\n}\r\n\r\nexport const doLogout = () => {\r\n    return {\r\n        type: 'LOGOUT',\r\n        payload: {}\r\n    }\r\n}\r\n\r\nexport const joinGame = (game_id: string, piecesColor: PieceColor, board: BoardObject, player_white: PieceColor, player_black: PieceColor) => {\r\n    return {\r\n        type: 'JOIN_GAME',\r\n        payload: {\r\n            'game_id': game_id,\r\n            'local_player_pieces': piecesColor,\r\n            'board': board,\r\n            'player_white': player_white,\r\n            'player_black': player_black\r\n        }\r\n    }\r\n}\r\n\r\nexport function getRemoteGameData(game_id: string) {\r\n    return function (dispatch: any, getState: any) {\r\n        CONFIG.AXIOSINSTANCE.get(`/games?id=${game_id}`).then(res => res.data).then((data) => {\r\n            // ! PieceColor.WHITE IS HARDCODED, LATER CALCULATE IT FROM COMPARING THE STATE USERNAME WITH THE PLAYER_WHITE AND PLAYER_BLACK\r\n            const username = getState((state: AppState) => state.authentication.username)\r\n            console.log(username)\r\n            dispatch(joinGame(game_id, PieceColor.WHITE, data.board, data.player_white, data.player_black))\r\n        })\r\n    }\r\n}\r\n\r\nexport const leaveGame = () => {\r\n    return {\r\n        type: 'LEAVE_GAME',\r\n        payload: {}\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}