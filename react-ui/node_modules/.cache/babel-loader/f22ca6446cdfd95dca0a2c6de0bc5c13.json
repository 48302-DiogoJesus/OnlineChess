{"ast":null,"code":"/*\r\nexport interface Game {\r\n    game_id: string | null,\r\n    local_player_pieces: PieceColor | null,\r\n    board: BoardObject | null,\r\n    player_white: string | null,\r\n    player_black: string | null\r\n}\r\n*/\nconst initialState = {\n  authentication: {\n    isAuthenticated: false,\n    username: null\n  },\n  // Starts disconnected from any game\n  game: {\n    game_id: null,\n    local_player_pieces: null,\n    board: null,\n    player_white: null,\n    player_black: null\n  }\n};\nexport default function rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state,\n        authentication: {\n          isAuthenticated: true,\n          username: action.payload.username\n        }\n      };\n\n    case 'LOGOUT':\n      return initialState;\n\n    case 'JOIN_GAME':\n      return { ...state,\n        game: {\n          game_id: action.payload.game_id,\n          local_player_pieces: action.payload.local_player_pieces,\n          board: action.payload.board,\n          player_white: action.payload.player_white,\n          player_black: action.payload.player_black\n        }\n      };\n\n    case 'LEAVE_GAME':\n      return { ...state,\n        game: {\n          game_id: null,\n          local_player_pieces: null,\n          board: null,\n          player_white: null,\n          player_black: null\n        }\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/jesus/Desktop/PG/Personal/1-Web/TS/OnlineChess/onlinechess/src/state/reducers/root.ts"],"names":["initialState","authentication","isAuthenticated","username","game","game_id","local_player_pieces","board","player_white","player_black","rootReducer","state","action","type","payload"],"mappings":"AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAUA,MAAMA,YAAsB,GAAG;AAC3BC,EAAAA,cAAc,EAAE;AACZC,IAAAA,eAAe,EAAE,KADL;AAEZC,IAAAA,QAAQ,EAAE;AAFE,GADW;AAK3B;AACAC,EAAAA,IAAI,EAAE;AACFC,IAAAA,OAAO,EAAE,IADP;AAEFC,IAAAA,mBAAmB,EAAE,IAFnB;AAGFC,IAAAA,KAAK,EAAE,IAHL;AAIFC,IAAAA,YAAY,EAAE,IAJZ;AAKFC,IAAAA,YAAY,EAAE;AALZ;AANqB,CAA/B;AAeA,eAAe,SAASC,WAAT,GAA4E;AAAA,MAAvDC,KAAuD,uEAArCX,YAAqC;AAAA,MAAvBY,MAAuB;;AACvF,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,OAAL;AACI,aAAO,EACH,GAAGF,KADA;AAEHV,QAAAA,cAAc,EAAE;AACZC,UAAAA,eAAe,EAAE,IADL;AAEZC,UAAAA,QAAQ,EAAES,MAAM,CAACE,OAAP,CAAeX;AAFb;AAFb,OAAP;;AAOJ,SAAK,QAAL;AACI,aAAOH,YAAP;;AACJ,SAAK,WAAL;AACI,aAAO,EACH,GAAGW,KADA;AAEHP,QAAAA,IAAI,EAAE;AACFC,UAAAA,OAAO,EAAEO,MAAM,CAACE,OAAP,CAAeT,OADtB;AAEFC,UAAAA,mBAAmB,EAAEM,MAAM,CAACE,OAAP,CAAeR,mBAFlC;AAGFC,UAAAA,KAAK,EAAEK,MAAM,CAACE,OAAP,CAAeP,KAHpB;AAIFC,UAAAA,YAAY,EAAEI,MAAM,CAACE,OAAP,CAAeN,YAJ3B;AAKFC,UAAAA,YAAY,EAAEG,MAAM,CAACE,OAAP,CAAeL;AAL3B;AAFH,OAAP;;AAUJ,SAAK,YAAL;AACI,aAAO,EACH,GAAGE,KADA;AAEHP,QAAAA,IAAI,EAAE;AACFC,UAAAA,OAAO,EAAE,IADP;AAEFC,UAAAA,mBAAmB,EAAE,IAFnB;AAGFC,UAAAA,KAAK,EAAE,IAHL;AAIFC,UAAAA,YAAY,EAAE,IAJZ;AAKFC,UAAAA,YAAY,EAAE;AALZ;AAFH,OAAP;;AAUJ;AACI,aAAOE,KAAP;AAlCR;AAoCH","sourcesContent":["import { BoardObject } from '../../domain/board'\r\nimport { PieceColor } from '../../domain/piece'\r\n\r\nexport interface AppState {\r\n    authentication: Authentication,\r\n    game: Game\r\n}\r\n\r\nexport interface Authentication {\r\n    isAuthenticated: boolean,\r\n    username: string | null\r\n}\r\n\r\n/*\r\nexport interface Game {\r\n    game_id: string | null,\r\n    local_player_pieces: PieceColor | null,\r\n    board: BoardObject | null,\r\n    player_white: string | null,\r\n    player_black: string | null\r\n}\r\n*/\r\nexport interface Game {\r\n    _id: string,\r\n    player_white: string,   // username of player1\r\n    player_black: string | null,  // username of player2\r\n    board: string,\r\n    winner: PieceColor | null,\r\n    turn: PieceColor\r\n}\r\n\r\nconst initialState: AppState = {\r\n    authentication: {\r\n        isAuthenticated: false,\r\n        username: null\r\n    },\r\n    // Starts disconnected from any game\r\n    game: {\r\n        game_id: null,\r\n        local_player_pieces: null,\r\n        board: null,\r\n        player_white: null,\r\n        player_black: null\r\n    }\r\n}\r\n\r\nexport default function rootReducer(state: AppState = initialState, action: any): AppState {\r\n    switch (action.type) {\r\n        case 'LOGIN':\r\n            return {\r\n                ...state,\r\n                authentication: {\r\n                    isAuthenticated: true,\r\n                    username: action.payload.username\r\n                }\r\n            }\r\n        case 'LOGOUT':\r\n            return initialState\r\n        case 'JOIN_GAME':\r\n            return {\r\n                ...state,\r\n                game: {\r\n                    game_id: action.payload.game_id,\r\n                    local_player_pieces: action.payload.local_player_pieces,\r\n                    board: action.payload.board,\r\n                    player_white: action.payload.player_white,\r\n                    player_black: action.payload.player_black\r\n                }\r\n            }\r\n        case 'LEAVE_GAME':\r\n            return {\r\n                ...state,\r\n                game: {\r\n                    game_id: null,\r\n                    local_player_pieces: null,\r\n                    board: null,\r\n                    player_white: null,\r\n                    player_black: null\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}